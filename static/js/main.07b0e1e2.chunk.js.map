{"version":3,"sources":["firebase/config.js","hooks/useStorage.js","components/ProgressBar.js","components/home.js","hooks/useFirestore.js","components/ImageGrid.js","components/Modal.js","components/Title.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","firestore","timestamp","FieldValue","serverTimestamp","useStorage","file","useState","progress","setProgress","error","setError","url","setUrl","useEffect","storageRef","ref","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","console","log","className","style","width","Home","types","type","onChange","e","selected","target","files","includes","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","push","data","id","ImageGrid","setSelectedImg","map","div","onClick","layout","whileHover","opacity","img","src","alt","initial","animate","transition","delay","Modal","selectedImg","classList","contains","y","Title","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wSAeEA,IAASC,cAXU,CACjBC,OAAQ,0CACRC,WAAY,mCACZC,YAAa,0CACbC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKnB,IAAMC,EAAUV,IAASU,UACnBC,EAAYX,IAASW,YACrBC,EAAYZ,IAASW,UAAUE,WAAWC,gBCSjCC,MAzBf,SAAoBC,GAAO,IAAD,EACUC,mBAAS,GADnB,mBACfC,EADe,KACLC,EADK,OAEIF,mBAAS,MAFb,mBAEfG,EAFe,KAERC,EAFQ,OAGAJ,mBAAS,MAHT,mBAGfK,EAHe,KAGVC,EAHU,KAsBtB,OAjBAC,qBAAU,WACN,IAAMC,EAAaf,EAAQgB,IAAIV,EAAKW,MAC9BC,EAAgBjB,EAAUkB,WAAW,UAC3CJ,EAAWK,IAAId,GAAMe,GAAG,iBAAiB,SAACC,GACtC,IAAIC,EAAcD,EAAKE,iBAAmBF,EAAKG,WAAc,IAC7DhB,EAAYc,MACb,SAACG,GACAf,EAASe,KAJb,sBAMI,8BAAAC,EAAA,sEACsBZ,EAAWa,iBADjC,OACUhB,EADV,OAEUiB,EAAY3B,IAClBgB,EAAcY,IAAI,CAAElB,MAAKiB,cACzBhB,EAAOD,GAJX,8CAML,CAACN,IAEG,CAAEE,WAAUI,MAAKF,UCtBb,SAASqB,EAAT,GAAuC,IAAjBzB,EAAgB,EAAhBA,KAAM0B,EAAU,EAAVA,QAAU,EAEtB3B,EAAWC,GAA9BM,EAFyC,EAEzCA,IAAKJ,EAFoC,EAEpCA,SAQb,OAPAyB,QAAQC,IAAI1B,EAAUI,GAEtBE,qBAAU,WACHF,GACCoB,EAAQ,QACb,CAACpB,EAAKoB,IAGL,qBAAKG,UAAU,eAAeC,MAAO,CAACC,MAAO7B,EAAW,OC8BjD8B,MAvCf,WAAiB,IAAD,EAEY/B,mBAAS,MAFrB,mBAELD,EAFK,KAEC0B,EAFD,OAGczB,mBAAS,MAHvB,mBAGLG,EAHK,KAGEC,EAHF,KAKN4B,EAAQ,CAAC,aAAa,YAAY,YAAY,aAgBpD,OACI,iCACI,gCACA,uBAAOC,KAAK,OAAOC,SAjBL,SAACC,GACnB,IAAIC,EAAWD,EAAEE,OAAOC,MAAM,GAC3BF,GAAYJ,EAAMO,SAASH,EAASH,OAEnCR,EAAQW,GACRhC,EAAS,MAITqB,EAAQ,MACRrB,EAAS,6DAUT,sBAAKwB,UAAU,SAAf,UACCzB,GAAS,sBAAKyB,UAAU,QAAf,cAAyBzB,KAClCJ,GAAQ,qBAAK6B,UAAU,WAAf,SAA2B7B,EAAKW,OACvCX,GAAQ,cAACyB,EAAD,CAAazB,KAAMA,EAAM0B,QAASA,W,QCZzCe,MApBf,SAAsB5B,GAAa,IAAD,EACNZ,mBAAS,IADH,mBACvByC,EADuB,KACjBC,EADiB,KAiB9B,OAdAnC,qBAAU,WACN,IAAMoC,EAAQjD,EAAUkB,WAAWA,GAC9BgC,QAAQ,YAAa,QACrBC,YAAW,SAAC9B,GACT,IAAI+B,EAAY,GAChB/B,EAAKgC,SAAQ,SAAAC,GACTF,EAAUG,KAAV,2BAAmBD,EAAIE,QAAvB,IAA+BC,GAAIH,EAAIG,SAE3CT,EAAQI,MAEhB,OAAO,kBAAKH,OACb,CAAC/B,IAGG,CAAC6B,S,OChBG,SAASW,EAAT,GAAsC,IAAlBC,EAAiB,EAAjBA,eAExBZ,EAAQD,EAAa,UAArBC,KAGP,OAFAf,QAAQC,IAAIc,GAGR,qBAAKb,UAAU,WAAf,SACKa,GAAQA,EAAKa,KAAI,SAAAN,GAAG,OACjB,cAAC,IAAOO,IAAR,CAAY3B,UAAU,WAAwB4B,QAAS,kBAAKH,EAAeL,EAAI3C,MAC3EoD,QAAM,EACNC,WAAY,CAACC,QAAS,GAF1B,SAGI,cAAC,IAAOC,IAAR,CAAYC,IAAKb,EAAI3C,IAAKyD,IAAI,iBAC1BC,QAAS,CAACJ,QAAS,GACnBK,QAAS,CAACL,QAAS,GACnBM,WAAY,CACRC,MAAO,MAPmBlB,EAAIG,SCT3C,SAASgB,EAAT,GAA+C,IAA/BC,EAA8B,EAA9BA,YAAaf,EAAiB,EAAjBA,eAKxC,OACI,cAAC,IAAOE,IAAR,CAAY3B,UAAU,WAAW4B,QALjB,SAACrB,GACdA,EAAEE,OAAOgC,UAAUC,SAAS,aAC3BjB,EAAe,OAIfU,QAAS,CAACJ,QAAS,GACnBK,QAAS,CAACL,QAAS,GAFvB,SAGI,cAAC,IAAOC,IAAR,CAAYC,IAAKO,EAAaN,IAAI,eAC9BC,QAAS,CAACQ,EAAG,UACbP,QAAS,CAACO,EAAG,WCZ7B,IAUeC,EAVD,WACZ,OACE,sBAAK5C,UAAU,QAAf,UACE,0CACA,+CACA,6FCaS6C,MAdf,WAAgB,IAAD,EAEyBzE,mBAAS,MAFlC,mBAENoE,EAFM,KAEOf,EAFP,KAIb,OACE,sBAAKzB,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAACwB,EAAD,CAAWC,eAAgBA,IAC1Be,GAAe,cAACD,EAAD,CAAOC,YAAaA,EAAaf,eAAgBA,QCHxDqB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.07b0e1e2.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDwwiwiQllZUi2Qn1wIpTIlzMz61XBSLUE\",\r\n    authDomain: \"fir-photogallary.firebaseapp.com\",\r\n    databaseURL: \"https://fir-photogallary.firebaseio.com\",\r\n    projectId: \"fir-photogallary\",\r\n    storageBucket: \"fir-photogallary.appspot.com\",\r\n    messagingSenderId: \"773813039980\",\r\n    appId: \"1:773813039980:web:28f5daf1188e700abb7949\",\r\n    measurementId: \"G-SW3X8NL5CY\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\nconst firestore = firebase.firestore();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\nexport {storage, firestore, timestamp}","import { useState, useEffect} from 'react';\r\nimport { storage, firestore, timestamp } from '../firebase/config';\r\n\r\nfunction useStorage(file) {\r\n    const [progress, setProgress] = useState(0)\r\n    const [error, setError] = useState(null);\r\n    const [url, setUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const storageRef = storage.ref(file.name);\r\n        const collectionRef = firestore.collection('images');\r\n        storageRef.put(file).on('state_changed', (snap) =>{\r\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100\r\n            setProgress(percentage)\r\n        }, (err) => {\r\n            setError(err);\r\n        },\r\n            async () => {\r\n                const url = await storageRef.getDownloadURL();\r\n                const createdAt = timestamp();\r\n                collectionRef.add({ url, createdAt });\r\n                setUrl(url);\r\n            });\r\n    }, [file]);\r\n\r\n    return { progress, url, error}\r\n}\r\n\r\nexport default useStorage;","import React, {useEffect} from 'react'\r\nimport useStorage from '../hooks/useStorage'\r\n\r\nexport default function ProgressBar({file, setFile}) {\r\n\r\n    const  {url, progress } =  useStorage(file)\r\n    console.log(progress, url)\r\n\r\n    useEffect(() => {\r\n        if(url)\r\n            setFile(null)\r\n    }, [url, setFile])\r\n\r\n    return (\r\n        <div className=\"progress-bar\" style={{width: progress + \"%\"}}>\r\n            \r\n        </div>\r\n    )\r\n}","import React,{useState} from 'react'\r\nimport './homeStyles.css'\r\nimport ProgressBar from './ProgressBar'\r\n\r\n\r\nfunction Home() {\r\n\r\n    const [file, setFile] = useState(null)\r\n    const [error, setError] = useState(null)\r\n \r\n    const types = ['image/jpeg','image/jpg','image/png','image/svg']\r\n\r\n    const changeHandler = (e) => {\r\n        let selected = e.target.files[0]\r\n        if(selected && types.includes(selected.type))\r\n        {\r\n            setFile(selected)\r\n            setError('')\r\n        }\r\n        else\r\n        {\r\n            setFile(null)\r\n            setError(\"Please select image file only (jpeg, jpg, png, svg)\") \r\n        }\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <label>\r\n            <input type=\"file\" onChange={changeHandler}></input>\r\n\r\n            </label>\r\n            <div className=\"output\">\r\n            {error && <div className=\"error\"> {error}</div>}\r\n            {file && <div className=\"fileName\">{file.name}</div>}\r\n            { file && <ProgressBar file={file} setFile={setFile}/>}\r\n            \r\n\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState, useEffect} from 'react'\r\nimport {  firestore } from '../firebase/config';\r\n\r\nfunction useFirestore(collection) {\r\n    const [docs, setDocs] = useState([])\r\n\r\n    useEffect(() => {\r\n        const unsub = firestore.collection(collection)\r\n            .orderBy('createdAt', 'desc')\r\n            .onSnapshot((snap) => {\r\n                let documents = []\r\n                snap.forEach(doc => {\r\n                    documents.push({...doc.data(), id: doc.id})\r\n                })\r\n                setDocs(documents)\r\n            })\r\n        return ()=> unsub()\r\n    }, [collection])\r\n\r\n\r\n    return {docs}\r\n}\r\n\r\nexport default useFirestore\r\n","import React from 'react'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport {motion} from 'framer-motion'\r\n\r\nexport default function ImageGrid({setSelectedImg}) {\r\n\r\n    const {docs} = useFirestore('images');\r\n    console.log(docs)\r\n\r\n    return (\r\n        <div className=\"img-grid\">\r\n            {docs && docs.map(doc => (\r\n                <motion.div className=\"img-wrap\" key={doc.id} onClick={()=> setSelectedImg(doc.url)}\r\n                    layout\r\n                    whileHover={{opacity: 1}}>\r\n                    <motion.img src={doc.url} alt=\"uploaded image\"\r\n                        initial={{opacity: 0}}\r\n                        animate={{opacity: 1}}\r\n                        transition={{\r\n                            delay: 1\r\n                        }}/>\r\n                </motion.div>\r\n            ))}\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport {motion} from 'framer-motion'\r\n\r\nexport default function Modal({selectedImg, setSelectedImg}) {\r\n    const handleClick = (e)=> {\r\n        if(e.target.classList.contains('backdrop'))\r\n            setSelectedImg(null)\r\n    }\r\n    return (\r\n        <motion.div className=\"backdrop\" onClick={handleClick}\r\n            initial={{opacity: 0}}\r\n            animate={{opacity: 1}}>\r\n            <motion.img src={selectedImg} alt=\"enlarged pic\" \r\n                initial={{y: \"-100vh\"}}\r\n                animate={{y: \"0vh\"}}/>\r\n        </motion.div>\r\n    )\r\n}","import React from 'react';\r\n\r\nconst Title = () => {\r\n  return (\r\n    <div className=\"title\">\r\n      <h1>FireGram</h1>\r\n      <h2>Your Pictures</h2>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Title;","import React, {useState} from 'react';\nimport Home from './components/home'\nimport ImageGrid from './components/ImageGrid';\nimport Modal from './components/Modal';\nimport Title from './components/Title';\n\nfunction App() {\n\n  const [selectedImg, setSelectedImg] = useState(null)\n\n  return (\n    <div className=\"App\">\n      <Title/>\n      <Home/>\n      <ImageGrid setSelectedImg={setSelectedImg}/>\n      {selectedImg && <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg}/>}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}